TRANSLATIONS = {
    'en': {
        # Welcome & Setup
        'welcome': "Welcome to Love in Rainbow Colours ðŸŒˆ!\n\nThis bot helps you strengthen relationships through daily rainbow-themed challenges.",
        'choose_mode': "Choose your mode:",
        'individual_mode': "Individual ðŸ‘¤",
        'couple_mode': "Couple ðŸ’‘",
        'group_mode': "Group ðŸ‘¥",
        'choose_language': "Choose your language:",
        'setup_complete': "Great! You're all set up! ðŸŽ‰\n\nYou'll receive daily rainbow challenges at 9 AM your time.\n\nUse /help to see all commands.",
        
        # Mode descriptions
        'individual_desc': "Personal growth and self-reflection",
        'couple_desc': "Connect with your partner through shared challenges",
        'group_desc': "Build collective rainbow with friends",
        
        # Daily prompts
        'daily_challenge': "ðŸŒˆ Today's Rainbow Challenge",
        'color_theme': "{emoji} {color} = {theme}",
        'challenge_prompt': "Challenge: {title}\n\n{description}",
        'respond_prompt': "Reply with text, photo, or voice message to complete this challenge!",
        
        # Progress & Streaks
        'rainbow_progress': "Your Rainbow Progress:",
        'streak_count': "ðŸ”¥ Streak: {days} days",
        'points_earned': "Points earned: +{points} {type}",
        'badge_earned': "ðŸ† New Badge: {badge}!",
        
        # Couple Mode
        'create_room': "Creating couple room...",
        'room_code': "Share this code with your partner: `{code}`",
        'join_room_prompt': "Enter the room code from your partner:",
        'room_joined': "ðŸ’‘ Successfully connected! You're now in couple mode.",
        'partner_responded': "ðŸ’• Your partner just completed the challenge!",
        'waiting_partner': "Waiting for your partner to respond...",
        
        # Group Mode
        'group_welcome': "Rainbow Bot activated for this group! ðŸŒˆ",
        'group_challenge': "ðŸŒˆ Group Challenge of the Day",
        'members_completed': "{count}/{total} members completed today's challenge",
        'collective_progress': "Collective Rainbow: {progress}",
        
        # Commands
        'help_text': """
ðŸŒˆ **Available Commands:**

/start - Begin your rainbow journey
/challenge - Get today's challenge
/progress - View your rainbow progress
/streak - Check your current streak
/badges - See your earned badges
/suggest - Suggest a new challenge
/settings - Change language or mode
/couple - Couple mode options
/save - Save current session
/resume - Resume saved session
/help - Show this help message
        """,
        
        # Settings
        'settings_menu': "âš™ï¸ Settings",
        'change_language': "Change Language",
        'change_mode': "Change Mode",
        'change_timezone': "Change Timezone",
        'current_settings': "Current: {setting}",
        
        # Responses
        'response_saved': "âœ… Response saved! Well done!",
        'challenge_completed': "ðŸŽ‰ Challenge completed!",
        'already_completed': "You've already completed today's challenge! Come back tomorrow.",
        'session_saved': "ðŸ’¾ Session saved! Use /resume to continue later.",
        'session_resumed': "ðŸ“‚ Session resumed! Continue where you left off.",
        'no_session': "No saved session found.",
        
        # Suggestions
        'suggest_prompt': "Share your challenge idea:\n\nFormat:\nColor: (red/orange/yellow/green/blue/indigo/violet)\nTitle: Your challenge title\nDescription: Challenge description",
        'suggestion_received': "Thank you for your suggestion! ðŸ’¡",
        
        # Errors
        'error_occurred': "An error occurred. Please try again.",
        'invalid_code': "Invalid room code. Please check and try again.",
        'not_in_couple': "You're not in couple mode. Use /couple to connect with a partner.",
        'already_in_couple': "You're already connected with a partner.",
        
        # Buttons
        'btn_complete': "âœ… Complete",
        'btn_skip': "â­ï¸ Skip",
        'btn_save': "ðŸ’¾ Save for Later",
        'btn_new': "ðŸ†• Start New",
        'btn_share': "ðŸ“¤ Share",
        'btn_back': "â¬…ï¸ Back"
    },
    
    'zh': {
        # Welcome & Setup
        'welcome': "æ¬¢è¿Žæ¥åˆ°å½©è™¹ä¹‹æ‹ ðŸŒˆ!\n\nè¿™ä¸ªæœºå™¨äººé€šè¿‡æ¯æ—¥å½©è™¹ä¸»é¢˜æŒ‘æˆ˜å¸®åŠ©æ‚¨åŠ å¼ºå…³ç³»ã€‚",
        'choose_mode': "é€‰æ‹©æ‚¨çš„æ¨¡å¼ï¼š",
        'individual_mode': "ä¸ªäºº ðŸ‘¤",
        'couple_mode': "æƒ…ä¾£ ðŸ’‘",
        'group_mode': "ç¾¤ç»„ ðŸ‘¥",
        'choose_language': "é€‰æ‹©æ‚¨çš„è¯­è¨€ï¼š",
        'setup_complete': "å¤ªå¥½äº†ï¼è®¾ç½®å®Œæˆï¼ðŸŽ‰\n\næ‚¨å°†åœ¨æ¯å¤©ä¸Šåˆ9ç‚¹æ”¶åˆ°å½©è™¹æŒ‘æˆ˜ã€‚\n\nä½¿ç”¨ /help æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤ã€‚",
        
        # Mode descriptions
        'individual_desc': "ä¸ªäººæˆé•¿ä¸Žè‡ªæˆ‘åæ€",
        'couple_desc': "é€šè¿‡å…±åŒæŒ‘æˆ˜ä¸Žä¼´ä¾£è¿žæŽ¥",
        'group_desc': "ä¸Žæœ‹å‹ä¸€èµ·å»ºç«‹é›†ä½“å½©è™¹",
        
        # Daily prompts
        'daily_challenge': "ðŸŒˆ ä»Šæ—¥å½©è™¹æŒ‘æˆ˜",
        'color_theme': "{emoji} {color} = {theme}",
        'challenge_prompt': "æŒ‘æˆ˜ï¼š{title}\n\n{description}",
        'respond_prompt': "å›žå¤æ–‡å­—ã€ç…§ç‰‡æˆ–è¯­éŸ³æ¶ˆæ¯æ¥å®Œæˆè¿™ä¸ªæŒ‘æˆ˜ï¼",
        
        # Progress & Streaks
        'rainbow_progress': "æ‚¨çš„å½©è™¹è¿›åº¦ï¼š",
        'streak_count': "ðŸ”¥ è¿žç»­ï¼š{days} å¤©",
        'points_earned': "èŽ·å¾—ç§¯åˆ†ï¼š+{points} {type}",
        'badge_earned': "ðŸ† æ–°å¾½ç« ï¼š{badge}ï¼",
        
        # Couple Mode
        'create_room': "åˆ›å»ºæƒ…ä¾£æˆ¿é—´...",
        'room_code': "ä¸Žæ‚¨çš„ä¼´ä¾£åˆ†äº«æ­¤ä»£ç ï¼š`{code}`",
        'join_room_prompt': "è¾“å…¥æ‚¨ä¼´ä¾£çš„æˆ¿é—´ä»£ç ï¼š",
        'room_joined': "ðŸ’‘ æˆåŠŸè¿žæŽ¥ï¼æ‚¨çŽ°åœ¨å¤„äºŽæƒ…ä¾£æ¨¡å¼ã€‚",
        'partner_responded': "ðŸ’• æ‚¨çš„ä¼´ä¾£åˆšåˆšå®Œæˆäº†æŒ‘æˆ˜ï¼",
        'waiting_partner': "ç­‰å¾…æ‚¨çš„ä¼´ä¾£å›žåº”...",
        
        # Group Mode
        'group_welcome': "å½©è™¹æœºå™¨äººå·²ä¸ºæ­¤ç¾¤ç»„æ¿€æ´»ï¼ðŸŒˆ",
        'group_challenge': "ðŸŒˆ ä»Šæ—¥ç¾¤ç»„æŒ‘æˆ˜",
        'members_completed': "{count}/{total} æˆå‘˜å®Œæˆäº†ä»Šå¤©çš„æŒ‘æˆ˜",
        'collective_progress': "é›†ä½“å½©è™¹ï¼š{progress}",
        
        # Commands
        'help_text': """
ðŸŒˆ **å¯ç”¨å‘½ä»¤ï¼š**

/start - å¼€å§‹æ‚¨çš„å½©è™¹ä¹‹æ—…
/challenge - èŽ·å–ä»Šæ—¥æŒ‘æˆ˜
/progress - æŸ¥çœ‹æ‚¨çš„å½©è™¹è¿›åº¦
/streak - æ£€æŸ¥æ‚¨çš„è¿žç»­è®°å½•
/badges - æŸ¥çœ‹æ‚¨èŽ·å¾—çš„å¾½ç« 
/suggest - å»ºè®®æ–°æŒ‘æˆ˜
/settings - æ›´æ”¹è¯­è¨€æˆ–æ¨¡å¼
/couple - æƒ…ä¾£æ¨¡å¼é€‰é¡¹
/save - ä¿å­˜å½“å‰ä¼šè¯
/resume - æ¢å¤ä¿å­˜çš„ä¼šè¯
/help - æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯
        """,
        
        # Settings
        'settings_menu': "âš™ï¸ è®¾ç½®",
        'change_language': "æ›´æ”¹è¯­è¨€",
        'change_mode': "æ›´æ”¹æ¨¡å¼",
        'change_timezone': "æ›´æ”¹æ—¶åŒº",
        'current_settings': "å½“å‰ï¼š{setting}",
        
        # Responses
        'response_saved': "âœ… å›žåº”å·²ä¿å­˜ï¼åšå¾—å¥½ï¼",
        'challenge_completed': "ðŸŽ‰ æŒ‘æˆ˜å®Œæˆï¼",
        'already_completed': "æ‚¨å·²ç»å®Œæˆäº†ä»Šå¤©çš„æŒ‘æˆ˜ï¼æ˜Žå¤©å†æ¥ã€‚",
        'session_saved': "ðŸ’¾ ä¼šè¯å·²ä¿å­˜ï¼ä½¿ç”¨ /resume ç¨åŽç»§ç»­ã€‚",
        'session_resumed': "ðŸ“‚ ä¼šè¯å·²æ¢å¤ï¼ä»Žä¸Šæ¬¡ç¦»å¼€çš„åœ°æ–¹ç»§ç»­ã€‚",
        'no_session': "æœªæ‰¾åˆ°ä¿å­˜çš„ä¼šè¯ã€‚",
        
        # Suggestions
        'suggest_prompt': "åˆ†äº«æ‚¨çš„æŒ‘æˆ˜æƒ³æ³•ï¼š\n\næ ¼å¼ï¼š\né¢œè‰²ï¼šï¼ˆçº¢/æ©™/é»„/ç»¿/è“/é›/ç´«ï¼‰\næ ‡é¢˜ï¼šæ‚¨çš„æŒ‘æˆ˜æ ‡é¢˜\næè¿°ï¼šæŒ‘æˆ˜æè¿°",
        'suggestion_received': "æ„Ÿè°¢æ‚¨çš„å»ºè®®ï¼ðŸ’¡",
        
        # Errors
        'error_occurred': "å‘ç”Ÿé”™è¯¯ã€‚è¯·é‡è¯•ã€‚",
        'invalid_code': "æ— æ•ˆçš„æˆ¿é—´ä»£ç ã€‚è¯·æ£€æŸ¥å¹¶é‡è¯•ã€‚",
        'not_in_couple': "æ‚¨ä¸åœ¨æƒ…ä¾£æ¨¡å¼ã€‚ä½¿ç”¨ /couple ä¸Žä¼´ä¾£è¿žæŽ¥ã€‚",
        'already_in_couple': "æ‚¨å·²ç»ä¸Žä¼´ä¾£è¿žæŽ¥ã€‚",
        
        # Buttons
        'btn_complete': "âœ… å®Œæˆ",
        'btn_skip': "â­ï¸ è·³è¿‡",
        'btn_save': "ðŸ’¾ ç¨åŽä¿å­˜",
        'btn_new': "ðŸ†• å¼€å§‹æ–°çš„",
        'btn_share': "ðŸ“¤ åˆ†äº«",
        'btn_back': "â¬…ï¸ è¿”å›ž"
    }
}

def get_text(language: str, key: str, **kwargs) -> str:
    """Get translated text with optional formatting"""
    text = TRANSLATIONS.get(language, TRANSLATIONS['en']).get(key, key)
    if kwargs:
        text = text.format(**kwargs)
    return text
